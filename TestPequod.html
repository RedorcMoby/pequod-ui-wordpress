<html>
<head>
    <title>Web3modal example written in vanilla JavaScript and HTML</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Get some bootstrap default styles -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
</head>
<body>
<!-- Construct a Bootstrap layout -->
<div class="container">
    <div class="row">
        <div class="col-md-12">
            <h1>Web3modal example for vanille JavaScript and HTML</h1>

            <p>No wallet connected. Connect wallet to show accounts and their ETH balances.</p>

            <section class="elementor-section elementor-top-section elementor-element elementor-element-77a1e85 elementor-section-stretched elementor-section-full_width elementor-section-height-default elementor-section-height-default" data-id="77a1e85" data-element_type="section" data-settings="{&quot;stretch_section&quot;:&quot;section-stretched&quot;,&quot;background_motion_fx_translateY_speed&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;size&quot;:8,&quot;sizes&quot;:[]},&quot;background_motion_fx_translateY_effect&quot;:&quot;yes&quot;,&quot;background_motion_fx_translateY_direction&quot;:&quot;negative&quot;,&quot;background_motion_fx_translateY_affectedRange&quot;:{&quot;unit&quot;:&quot;%&quot;,&quot;size&quot;:&quot;&quot;,&quot;sizes&quot;:{&quot;start&quot;:0,&quot;end&quot;:100}},&quot;background_motion_fx_devices&quot;:[&quot;desktop&quot;,&quot;tablet&quot;,&quot;mobile&quot;]}" style="width: 1792px; left: 0px;">
                <div class="elementor-container elementor-column-gap-default">
                    <div class="elementor-column elementor-col-25 elementor-top-column elementor-element elementor-element-98fc141" data-id="98fc141" data-element_type="column">
                        <div class="elementor-widget-wrap">
                        </div>
                    </div>
                    <div class="elementor-column elementor-col-25 elementor-top-column elementor-element elementor-element-9fe5ded" data-id="9fe5ded" data-element_type="column" id="div-trade" data-settings="{&quot;background_background&quot;:&quot;gradient&quot;}">
                        <div class="elementor-widget-wrap elementor-element-populated">
                            <section class="elementor-section elementor-inner-section elementor-element elementor-element-81b76e7 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="81b76e7" data-element_type="section">
                                <div class="elementor-container elementor-column-gap-default">
                                    <div class="elementor-column elementor-col-33 elementor-inner-column elementor-element elementor-element-f000ac0" data-id="f000ac0" data-element_type="column">
                                        <div class="elementor-widget-wrap elementor-element-populated">
                                            <div class="elementor-element elementor-element-f209f15 elementor-widget elementor-widget-image" data-id="f209f15" data-element_type="widget" id="logo-image" data-widget_type="image.default">
                                                <div class="elementor-widget-container">
                                                    <img src="https://mobydicktoken.net/wp-content/plugins/elementor/assets/images/placeholder.png" width="200px" height="200px" title="" alt="">															</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="elementor-column elementor-col-33 elementor-inner-column elementor-element elementor-element-2dd47b7" data-id="2dd47b7" data-element_type="column">
                                        <div class="elementor-widget-wrap elementor-element-populated">
                                            <div class="elementor-element elementor-element-9a82f43 elementor-widget elementor-widget-heading" data-id="9a82f43" data-element_type="widget" id="cryptoname" data-widget_type="heading.default">
                                                <div class="elementor-widget-container">
                                                    <h2 class="elementor-heading-title elementor-size-default">Binance BNB</h2>		</div>
                                            </div>
                                            <div class="elementor-element elementor-element-5294325 elementor-widget elementor-widget-heading" data-id="5294325" data-element_type="widget" id="currency" data-widget_type="heading.default">
                                                <div class="elementor-widget-container">
                                                    <h2 class="elementor-heading-title elementor-size-default">BNB/USDT</h2>		</div>
                                            </div>
                                            <div class="elementor-element elementor-element-6832b59 elementor-widget elementor-widget-heading" data-id="6832b59" data-element_type="widget" id="trade-value" data-widget_type="heading.default">
                                                <div class="elementor-widget-container">
                                                    <div class="elementor-heading-title elementor-size-default">489,42$</div>		</div>
                                            </div>
                                            <div class="elementor-element elementor-element-9932544 elementor-widget elementor-widget-heading" data-id="9932544" data-element_type="widget" id="trade-percentage" data-widget_type="heading.default">
                                                <div class="elementor-widget-container">
                                                    <div class="elementor-heading-title elementor-size-default">2,89%</div>		</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="elementor-column elementor-col-33 elementor-inner-column elementor-element elementor-element-61976a2" data-id="61976a2" data-element_type="column">
                                        <div class="elementor-widget-wrap elementor-element-populated">
                                            <div class="elementor-element elementor-element-ea3d641 elementor-align-right elementor-widget elementor-widget-button" data-id="ea3d641" data-element_type="widget" id="trade-now-button" data-widget_type="button.default">
                                                <div class="elementor-widget-container">
                                                    <div class="elementor-button-wrapper">
                                                        <a href="#" class="elementor-button-link elementor-button elementor-size-xs" role="button">
						<span class="elementor-button-content-wrapper">
						<span class="elementor-button-text">Trade Now</span>
		</span>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </div>
                    </div>
                    <div class="elementor-column elementor-col-25 elementor-top-column elementor-element elementor-element-c4efe17" data-id="c4efe17" data-element_type="column">
                        <div class="elementor-widget-wrap elementor-element-populated">
                            <div class="elementor-element elementor-element-5b7a02b elementor-widget elementor-widget-button" data-id="5b7a02b" data-element_type="widget" id="connect-wallet-button" data-widget_type="button.default">
                                <div class="elementor-widget-container">
                                    <div class="elementor-button-wrapper">
                                        <a href="#" class="elementor-button-link elementor-button elementor-size-xs" role="button">
						<span class="elementor-button-content-wrapper">
						<span class="elementor-button-text">Connect Wallet</span>
		</span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="elementor-column elementor-col-25 elementor-top-column elementor-element elementor-element-3bac8a4" data-id="3bac8a4" data-element_type="column">
                        <div class="elementor-widget-wrap">
                        </div>
                    </div>
                </div>
            </section>

            <div class="elementor-column elementor-col-33 elementor-top-column elementor-element elementor-element-5c59c87" data-id="5c59c87" data-element_type="column">
                <div class="elementor-widget-wrap elementor-element-populated">
                    <section class="elementor-section elementor-inner-section elementor-element elementor-element-d5bb844 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="d5bb844" data-element_type="section">
                        <div class="elementor-container elementor-column-gap-no">
                            <div class="elementor-column elementor-col-50 elementor-inner-column elementor-element elementor-element-da120ed" data-id="da120ed" data-element_type="column">
                                <div class="elementor-widget-wrap elementor-element-populated">
                                    <div class="elementor-element elementor-element-4f69115 elementor-align-center elementor-widget elementor-widget-button" data-id="4f69115" data-element_type="widget" id="button-buy" data-widget_type="button.default">
                                        <div class="elementor-widget-container">
                                            <div class="elementor-button-wrapper">
                                                <a href="#" class="elementor-button-link elementor-button elementor-size-xs" role="button">
						<span class="elementor-button-content-wrapper">
						<span class="elementor-button-text">BUY</span>
		</span>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="elementor-column elementor-col-50 elementor-inner-column elementor-element elementor-element-b31f437" data-id="b31f437" data-element_type="column">
                                <div class="elementor-widget-wrap elementor-element-populated">
                                    <div class="elementor-element elementor-element-e28f6dc elementor-align-center elementor-widget elementor-widget-button" data-id="e28f6dc" data-element_type="widget" id="button-sell" data-widget_type="button.default">
                                        <div class="elementor-widget-container">
                                            <div class="elementor-button-wrapper">
                                                <a href="#" class="elementor-button-link elementor-button elementor-size-xs" role="button">
						<span class="elementor-button-content-wrapper">
						<span class="elementor-button-text">SELL</span>
		</span>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                    <section class="elementor-section elementor-inner-section elementor-element elementor-element-e883cde elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="e883cde" data-element_type="section">
                        <div class="elementor-container elementor-column-gap-no">
                            <div class="elementor-column elementor-col-50 elementor-inner-column elementor-element elementor-element-b7f64bd" data-id="b7f64bd" data-element_type="column">
                                <div class="elementor-widget-wrap elementor-element-populated">
                                    <div class="elementor-element elementor-element-3ba3cb6 elementor-widget elementor-widget-heading" data-id="3ba3cb6" data-element_type="widget" id="amount-input" data-widget_type="heading.default">
                                        <div class="elementor-widget-container">
                                            <span class="elementor-heading-title elementor-size-default">Amount (918 USDT)</span>		</div>
                                    </div>
                                </div>
                            </div>
                            <div class="elementor-column elementor-col-50 elementor-inner-column elementor-element elementor-element-a77bc47" data-id="a77bc47" data-element_type="column">
                                <div class="elementor-widget-wrap elementor-element-populated">
                                    <div class="elementor-element elementor-element-144ef88 elementor-widget elementor-widget-heading" data-id="144ef88" data-element_type="widget" id="balance-input" data-widget_type="heading.default">
                                        <div class="elementor-widget-container">
                                            <span class="elementor-heading-title elementor-size-default">Balance 123,456789</span>		</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                    <section class="elementor-section elementor-inner-section elementor-element elementor-element-b46e839 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="b46e839" data-element_type="section">
                        <div class="elementor-container elementor-column-gap-no">
                            <div class="elementor-column elementor-col-100 elementor-inner-column elementor-element elementor-element-383524b" data-id="383524b" data-element_type="column">
                                <div class="elementor-widget-wrap elementor-element-populated">
                                    <div class="elementor-element elementor-element-f7a665b elementor-widget elementor-widget-html" data-id="f7a665b" data-element_type="widget" data-widget_type="html.default">
                                        <div class="elementor-widget-container">
                                            <input type="number" id="amount-input">		</div>
                                    </div>
                                    <div class="elementor-element elementor-element-099dbbb elementor-widget elementor-widget-html" data-id="099dbbb" data-element_type="widget" id="range-amount" data-widget_type="html.default">
                                        <div class="elementor-widget-container">
                                            <input type="range" id="range-amount" min="0" max="100" step="25">		</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                    <section class="elementor-section elementor-inner-section elementor-element elementor-element-a44c883 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="a44c883" data-element_type="section">
                        <div class="elementor-container elementor-column-gap-no">
                            <div class="elementor-column elementor-col-50 elementor-inner-column elementor-element elementor-element-65013ec" data-id="65013ec" data-element_type="column">
                                <div class="elementor-widget-wrap elementor-element-populated">
                                    <div class="elementor-element elementor-element-cfd6581 elementor-widget elementor-widget-heading" data-id="cfd6581" data-element_type="widget" id="amount-output" data-widget_type="heading.default">
                                        <div class="elementor-widget-container">
                                            <span class="elementor-heading-title elementor-size-default">Amount (WOT)</span>		</div>
                                    </div>
                                </div>
                            </div>
                            <div class="elementor-column elementor-col-50 elementor-inner-column elementor-element elementor-element-ab40080" data-id="ab40080" data-element_type="column">
                                <div class="elementor-widget-wrap elementor-element-populated">
                                    <div class="elementor-element elementor-element-cf0b495 elementor-widget elementor-widget-heading" data-id="cf0b495" data-element_type="widget" id="balance-output" data-widget_type="heading.default">
                                        <div class="elementor-widget-container">
                                            <span class="elementor-heading-title elementor-size-default">Balance 123,456789</span>		</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                    <section class="elementor-section elementor-inner-section elementor-element elementor-element-acb854b elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="acb854b" data-element_type="section">
                        <div class="elementor-container elementor-column-gap-no">
                            <div class="elementor-column elementor-col-100 elementor-inner-column elementor-element elementor-element-9cecfa5" data-id="9cecfa5" data-element_type="column">
                                <div class="elementor-widget-wrap elementor-element-populated">
                                    <div class="elementor-element elementor-element-f251d98 elementor-widget elementor-widget-html" data-id="f251d98" data-element_type="widget" data-widget_type="html.default">
                                        <div class="elementor-widget-container">
                                            <input type="number" id="amount-output">		</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                    <section class="elementor-section elementor-inner-section elementor-element elementor-element-f879038 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="f879038" data-element_type="section">
                        <div class="elementor-container elementor-column-gap-no">
                            <div class="elementor-column elementor-col-50 elementor-inner-column elementor-element elementor-element-c786da7" data-id="c786da7" data-element_type="column">
                                <div class="elementor-widget-wrap elementor-element-populated">
                                    <div class="elementor-element elementor-element-77144a2 elementor-widget elementor-widget-heading" data-id="77144a2" data-element_type="widget" data-widget_type="heading.default">
                                        <div class="elementor-widget-container">
                                            <span class="elementor-heading-title elementor-size-default">Take profit %</span>		</div>
                                    </div>
                                    <div class="elementor-element elementor-element-cef889d elementor-widget elementor-widget-html" data-id="cef889d" data-element_type="widget" data-widget_type="html.default">
                                        <div class="elementor-widget-container">
                                            <div class="input-group">
                                                <input type="button" value="-" class="button-minus" data-field="quantity">
                                                <input type="number" step="1" max="" value="1" name="quantity" class="quantity-field">
                                                <input type="button" value="+" class="button-plus" data-field="quantity">
                                            </div>		</div>
                                    </div>
                                    <div class="elementor-element elementor-element-3ac1c7f elementor-widget elementor-widget-heading" data-id="3ac1c7f" data-element_type="widget" data-widget_type="heading.default">
                                        <div class="elementor-widget-container">
                                            <span class="elementor-heading-title elementor-size-default">Profit 13,56$/0.02 BNB</span>		</div>
                                    </div>
                                    <div class="elementor-element elementor-element-14dd400 elementor-align-center elementor-widget elementor-widget-button" data-id="14dd400" data-element_type="widget" data-widget_type="button.default">
                                        <div class="elementor-widget-container">
                                            <div class="elementor-button-wrapper">
                                                <a href="#" class="elementor-button-link elementor-button elementor-size-xs" role="button">
						<span class="elementor-button-content-wrapper">
						<span class="elementor-button-text">Place Order</span>
		</span>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="elementor-column elementor-col-50 elementor-inner-column elementor-element elementor-element-e592f41" data-id="e592f41" data-element_type="column">
                                <div class="elementor-widget-wrap elementor-element-populated">
                                    <div class="elementor-element elementor-element-fa831b6 elementor-widget elementor-widget-heading" data-id="fa831b6" data-element_type="widget" data-widget_type="heading.default">
                                        <div class="elementor-widget-container">
                                            <span class="elementor-heading-title elementor-size-default">Stop loss %</span>		</div>
                                    </div>
                                    <div class="elementor-element elementor-element-a475d36 elementor-widget elementor-widget-html" data-id="a475d36" data-element_type="widget" data-widget_type="html.default">
                                        <div class="elementor-widget-container">
                                            <div class="input-group1">
                                                <input type="button" value="-" class="button-minus1" data-field="quantity">
                                                <input type="number" step="1" max="" value="1" name="quantity" class="quantity-field">
                                                <input type="button" value="+" class="button-plus1" data-field="quantity">
                                            </div>		</div>
                                    </div>
                                    <div class="elementor-element elementor-element-1e87d54 elementor-widget elementor-widget-heading" data-id="1e87d54" data-element_type="widget" data-widget_type="heading.default">
                                        <div class="elementor-widget-container">
                                            <span class="elementor-heading-title elementor-size-default">Loss -13,56$/0.02 BNB</span>		</div>
                                    </div>
                                    <div class="elementor-element elementor-element-271679d elementor-align-center elementor-widget elementor-widget-button" data-id="271679d" data-element_type="widget" data-widget_type="button.default">
                                        <div class="elementor-widget-container">
                                            <div class="elementor-button-wrapper">
                                                <a href="#" class="elementor-button-link elementor-button elementor-size-xs" role="button">
						<span class="elementor-button-content-wrapper">
						<span class="elementor-button-text">Add TP/SL</span>
		</span>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="elementor-element elementor-element-4970e24 elementor-widget elementor-widget-button" data-id="4970e24" data-element_type="widget" data-widget_type="button.default">
                                        <div class="elementor-widget-container">
                                            <div class="elementor-button-wrapper">
                                                <a href="#" class="elementor-button-link elementor-button elementor-size-sm" role="button">
						<span class="elementor-button-content-wrapper">
						<span class="elementor-button-icon elementor-align-icon-left">
				<i aria-hidden="true" class="fas fa-redo-alt"></i>			</span>
						<span class="elementor-button-text"></span>
		</span>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
            <div class="alert alert-danger" id="alert-error-https" style="display: none">
                You can run this example only over HTTPS connection.
            </div>

            <div id="prepare">
                <button class="btn btn-primary" id="btn-connect">
                    Connect wallet
                </button>
            </div>

            <div id="connected" style="display: none">

                <button class="btn btn-primary" id="btn-disconnect">
                    Disconnect wallet
                </button>

                <hr>

                <div id="network">
                    <p>
                        <strong>Connected blockchain:</strong> <span id="network-name"></span>
                    </p>

                    <p>
                        <strong>Selected account:</strong> <span id="selected-account"></span>
                    </p>

                </div>

                <hr>

                <h3>All account balances</h3>

                <table class="table table-listing">
                    <thead>
                    <th>Address</th>
                    <th>ETH balance</th>
                    </thead>

                    <tbody id="accounts">
                    </tbody>
                </table>

                <p>Please try to switch between different accounts in your wallet if your wallet supports this functonality.</p>

            </div>

            <br>

            <div class="well">
                <p class="text-muted">See also the <a href="https://web3modal.com/">TypeScript and React example application</a></p>
            </div>

        </div>
    </div>
</div>

<!-- We use simple <template> templating for the example -->
<div id="templates" style="display: none">
    <template id="template-balance">
        <tr>
            <th class="address"></th>
            <td class="balance"></td>
        </tr>
    </template>
</div>

<!--
  Use unpkg CDN to load all NPM packages to vanilla Javascript - read more at http://unpkg.com
  On your deployment, you properly either want to use a preprocessing tool like webpack
  to include these files, or extract NPM archives and manually host the files inside.
  TODO: Pin down all versions.
-->

<script type="text/javascript" src="https://unpkg.com/web3@1.2.11/dist/web3.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/web3modal@1.9.0/dist/index.js"></script>
<script type="text/javascript" src="https://unpkg.com/evm-chains@0.2.0/dist/umd/index.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/@walletconnect/web3-provider@1.2.1/dist/umd/index.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/fortmatic@2.0.6/dist/fortmatic.js"></script>
<script type="text/javascript" src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/axios/dist/axios.min.js"></script>

<!-- This is our example code -->
<script type="text/javascript" src="./pequod-controller.js"></script>
<script type="text/javascript" src="./utils.js"></script>

<script type="text/javascript" src="./pequod-swap-dynamic-form.js"></script>
<script type="text/javascript" src="./pequod-blockchain-info.js"></script>
<script type="text/javascript" src="./pequod-server-info.js"></script>

<script type="text/javascript">
    let achab = "http://localhost:3030"
    jQuery(document).ready(function() {
        init();
        console.log("Init")
        initialClean()
        jQuery('#connect-wallet-button a').click(async function(event) {
            event.preventDefault();
            await onConnect()
            let walletInfo = await evaluateWalletInfo()
            getMirrorWallet(walletInfo.wallet, walletInfo.chainId).then(async mirrorWallet => {
                let customerServerInfo = await getCustomerInfo(walletInfo.wallet, walletInfo.chainId)
                await updatePageCustomerInfo(walletInfo, customerServerInfo)
                await activateDynamicSwapForm(walletInfo, customerServerInfo)
            })
        })
        console.log("ready")
    })
</script>
</body>
</html>